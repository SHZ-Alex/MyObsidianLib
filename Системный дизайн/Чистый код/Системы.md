Как очень складно строятся города, в них зачастую много что продумано, это конечно из-за больших абстракций, разделения ответственности, большого опыта. Часто люди, которые отвечают за транспортную систему города, не вполне понимают все остальные вещи, это благодаря абстракциям. Программисты похожи на архитекторов городов, но за отличием того, что систему можно построить сразу и без ошибок, следующие пункты о том, как сохранить чистый код на верхних уровнях системы

1. Отделение конструирования системы от её использования - Когда город только строится и когда город уже функционирует, он выглядит по разному, в коде всегда есть фаза инициализации, когда главный компонент создает все зависимости, идиома отложенной инициализации, когда мы объект создаем четко в методе, очень удобна в моменте, но не удобна в будущем, при тестировании и дополнительно нагружает систему
2. Отделение Main - самый понятный и распространенный способ отделения конструирования от использования в простом перемещении всех аспектов конструирования в Main, главный компонент позаботится о том, чтобы все сервисы были сконструированы верно и передаст их в нужное место
3. Фабрики - конечно, создание объекта иногда должно определяться логикой, но в таком случае можно использовать абстрактную фабрику, можно получить все преимущества фабрики, при этом не нарушая ответственность конструирования объекта
4. Внедрение зависимостей - Внедрение зависимостей с помощью DI контейнера это практическое применение принципа [[I]] из [[SOLID]], у такого подхода есть все преимущества отложенной инициализации, потому как объекты создаются тогда когда требуется методом, обычно DI конструируют их фабриками или конструирования посредника(proxies)
5. Масштабирование - Если смотреть на рост городов от маленьких деревень до больших городов, то можно заметить, что дома в центре могли по нескольку раз перестраиваться, улицы перекладывались и все в гигантских количествах, в програмных системах в счастью, можно сразу сделать все правильно, чтобы можно было масштабировать, для этого нужно четко разделять зависимости, абстракции, разделять ответственности.
6. Если фреймворк или язык ограничивает нас писать абстрактно и чисто, то возможно писать код с помощью [[АОП]]
7. Разработка на [[АОП]] дает много преимуществ для испытания вашей архитектуры, наша система развивается от простого к сложному, у нас остается много гибкости для изменения системы, архитекторы в строительстве лишены такой возможности, а в среде разработки это делать проще
8. Применять стандарты и паттерны разумно - Всегда нужно исходить из мыслей разработки, будет ли это приносить пользу или мы пишем для поиграться, всегда нужно отталкиваться от запросов клиента и делать архитектуру гибкую для клиента.

Если качественно писать архитектуру, ошибкам будет сложнее спрятаться в коде, тесты будут писаться проще, поддержка будет проще, вне зависимости, реализуем мы целую систему или низкоуровневый модуль, лучше использовать самое просто решение из всех.

