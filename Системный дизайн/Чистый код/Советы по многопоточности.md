**Остерегайтесь зависимости между синхронизированными методами** - Такие зависимости приводят к ошибкам в многопоточном коде, если класс содержит более одного синхронизированного метода, тогда скорее спроектирована система не верно, хотя не всегда удается так спроектировать, поэтому есть 3 следующих возможных сценария. ![[Pasted image 20240219233813.png]]

***Синхронизированные секции должны иметь минимальны размер*** - Ключевые слова типо await или synchronized, блокировки вещь не дешевая, поэтому часто лучше их где попало не использовать, но такие блокировщики защищают критические секции, если сделать критическую секцию очень большой, однако это тоже снижение производительности из-за увеличение конкуренции между потоками, поэтому остается один вариант, критические секции должны быть минимальными.

***Корректное завершение многопоточного кода*** - Самая сложная часть, это завершение и финальная синхронизация, часто бывает, что при финальной синхронизации, часть потоков вечно ожидает и процесс не сможет нормально завершиться, как вывод, о завершении многопоточного процесса лучше думать заранее, еще на самом старте
