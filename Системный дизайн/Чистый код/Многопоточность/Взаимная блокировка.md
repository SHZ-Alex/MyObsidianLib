Одна из самых частых ошибок в многопоточности и её лучше разобрать по подробнее.

***Взаимное исключение

Происходит когда несколько потоков должны использовать одни и теже ресурсы и у этих ресурсов условие
1. Нельзя использоваться несколько потоков одновременно
2. Существует ограничение на количество
Типичный пример это подключение к базе данных, открытие для записи файлы, семафоры

Решение
Можно использовать ресурсы, поддерживающие многопоточный доступ. Увеличение ресурсов, чтобы оно достигало или превосходило количество конкурирующих потоков. Проверка наличия свободных ресурсов перед выполнением.

Все же большинство ресурсов не может поддерживать многопоточный режим и из-за этого мы получаем другие преимущества

***Блокировка с ожиданием

Когда один поток захватывает ресурс, он не освобождает его до тех пор, пока не захватит все остальные необходимые ресурсы и не завершит работу

***Отсутствие вытеснения

Один поток не может забрать ресурсы у другого потока, пока второй его не освободит. Самое главное верно организовать освобождение ресурса, либо создать запросы на освобождение этого ресурса

***Циклическое ожидание

Пример классической взаимной блокировки:
1. Процесс A захватил ресурс 1 и ожидает ресурс 2.
2. Процесс B захватил ресурс 2 и ожидает ресурс 1.
