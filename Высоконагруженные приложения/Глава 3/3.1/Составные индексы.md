Ранее в нашем обсуждении. индексы задавали соответствие отдельного ключа и значения. Этого недостаточно в случае нескольких столбцов одновременно.

Наиболее распространенный тип составных индексов - сцепленный индекс. Он объединяет несколько полей в один ключ, присоединяя один столбец к другому, в описании указывается в каком порядке. Благодаря порядку сортировке индекс можно искать например по группе столбцов "фамилия-имя", но такой индекс не подойдет для поиска только по имени.

Многомерные индексы - более общий способ группировки нескольких столбцов сразу, часто используется в работе с гео данными. Он хорошо подходит в запросах следующего типа.

![[Pasted image 20250502114935.png]]

Стандартные B-дерево или LSM плохо бы подошли для этого запроса. Один из вариантов преобразовать двухмерное место с помощью заполняющей пространсво кривой, после чего воспользоваться индексом на основе b-дерева. Но на деле, используют пространственные индексы на основе R-дерева. Например есть обобщенное дерево поиска в PgSQL. Одним R-деревьям посвящено много литературы.

Многомерный индекс можно использовать во многих запросах. Например поиск по цветам в интернет магазине, где трехмерными осями координат будут синий, зеленый, красный. Или двумерный индекс для даты и погода, если потребуется найти погоду за 2013 год от 25 до 30 градусов, то для этого b-дерево плохо бы подошел. Подобные индексы используются во многих базах данных.