Сортировка чаще не важна в столбцовом хранилище, можно записывать записи по мере их поступления просто в конец. Однако можно навязать какой-либо порядок аналогично тому, как мы поступали с SS-таблицами и использовать это.

Сортировать каждый столбец отдельно смысла нет, так мы потеряем привязку к их сущности. Есть решение, что мы знаем, что i-ый элемент относится к i-ой строке, но так не делают.

Вместе этого необходимо сортировать целые строки, несмотря на то, что нам важны столбцы. Администратор БД сможет выбрать столбцы, по которым требуется отсортировать таблицу, основываясь на знаниях о том какие запросы выполняются чаще. Например если чаще всего сортируют по столбце дат, имеет смысл сделать первым ключом сортировки столбец с датой. Тогда оптимизатору запросов может быть проще просматривать строки только относящиеся к нашему диапазону и это будет сильно быстрее.

Второй столбец может определять порядок сортировки строк, значение которых в первом столбце одинаково. Например если мы вначале сортируем по дате, то вторым ключом можно будет сделать id продукта, чтобы все продажи одного дня по продукту сгрупировались в хранилище.

Еще одно преимущества сортировки, что это способно помочь при сжатие столбцов. Если в основном столбце сортировки количество значений не велико, то после сортировки в нем появятся длинные последовательности повторяющихся одинаковых значений. Простое кодирование длин серий, аналогично тому, которое мы использовали для битовых карт, может сжать такой столбце до нескольких килобайт - даже при наличии миллиарда строк.

Сжатие лучше всего работает для первичного ключа сортировки. Второй и третий ключи будут сильнее перемешаны, а следовательно в них не будет таких длинных серий повторяющихся значений. Расположенные далее в списке сортировки столбцы окажутся, по сути, в случайном порядке, так что вряд ли сжаты очень хорошо. Но и сортировка первых нескольких столбцов приносит немалые плоды

[[Несколько различных порядков сортировки]]