Помимо загрузки с диска только тех столбцов, которые нужны для запроса, можно сжимать данные для увеличения пропускной способности диска, сжав данные. К счастью, столбцовые хранилища, хорошо поддаются сжатию.

В зависимости от содержаний столбцов, можно применить разные методы сжатия. Последовательность значений id хорошо поддаются сжатию с помощью битовой карты.

Зачастую количество различных значений в столбце невелико в сравнении со строками. Мы можем теперь превратить столбце, содержащий n различных значений, в n отдельных битовых карт. Бит равен 1, если значение содержится в строке, 0 - если нет.

При очень малом n такие битовые карты могут хранить по одному биту на строку. Но если n сильно больше, то в большинстве карт будет множество нулей, что будет говорить, что они разреженные. При этом битовые карты можно дополнительно кодировать с помощью алгоритма кодирования длин серий.

Подобные битовые индексы так же можно использовать в запросах, запрос с where in, может быть очень эффективен с битовой картой.

Существует много различных схем сжатия видов данных, но в этой книге о них говориться не будет.

В СУБД Cassandra существует понятие семейств столбцов, которые унаследованы от Bigtable. Это не совсем столбцовые хранилища. Внутри каждого семейства столбцы хранятся вместе наряду с ключом строки и сжатие столбцов не используется.

[[Пропускная способность памяти и векторизованная обработка]]