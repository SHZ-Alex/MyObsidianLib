Cypher - декларативный язык для запросов графовых свойств. создан для базы Neo4j.

Это пример запроса вставки в базу левой части в графовую базу данных, остальную часть примерно похоже можно дописать. 

![[Pasted image 20250405104521.png]]

После вставки вершин и ребер можно начать задавать интересные запросы, например поиск людей, переехавших из США в Европу

![[Pasted image 20250407234721.png]]

Для поиска заданных шаблонов используется стрелочная нотация, Начальная вершина привязана к person, а конечная осталась безимяной.

Расшифровать можно следующим образом:
1. У вершины person имеется исходящее ребро BORN_IN к какой либо вершине. Из этой вершины можно построить цепочку исходящих ребер WITHIN вплоть до достижения вершины типа Location, в котором свойство name 'United States'
2. У той же вершины person имеется ребро LIVES_IN, Следуя по данному ребру, а зачем по цепочке исходящих ребер WITHIN, можно в конце концов достичь вершины типа Location, свойство name  которое равно "Europe"

Существует несколько возможных способов выполнения подобного запроса. Проверкой всех людей по месту рождения и жительства, которые удовлетворяют условиями.

Но так же можно пойти и по связке двух вершин Location, если будет индекс на слове name, то поиск пойдет еще быстрее. А после найти людей, у которых есть связь этих ребер.

Как и в обычных декларативных языках, не требуется указывать конкретный алгоритм поиска этого запроса, оптимизатор запросов сам найдет наиболее подходящий вариант.