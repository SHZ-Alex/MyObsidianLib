
Приложения неизбежно меняются с течением времени. По мере выхода новых программных продуктов, более глубокого понимания требований пользователя или изменения обстоятельств добавляются новые возможности. Желательно, делать эти системы высоко адаптивными [[1.4 Удобство сопровождения]]

В большинстве случаев вносимые в приложение изменения требуют изменить и данные, добавить новое поле или изменить тип данных на существующем.

В главе 2 мы обсуждали как решать эту проблему. В реляционных базах данных соответствуют единой схеме, хотя можно изменить с помощью оператора ALTER. И в любой момент времени действует одна схема. В БД типа "схема при чтении" не навязывает схему данных, так что такая база может содержать смесь более старых и более новых форматов данных, записанное в разное время.

При изменения формата так же требуется изменить приложение на новый тип данных. Однако в большинстве приложений изменения кода не могу происходить очень быстро.

1. В случае приложений на стороне сервера может понадобиться выполнить плавающее обновление, так же называемым поэтапным развертыванием. При нем новая версия развертывается всего на нескольких узлах за раз и проверяется, работает ли она без проблем и так постепенно проходят все узлы. Благодаря этому сервер не простаивает и способствует более частым выпуска обновлений.
2. В случае приложений на стороне клиента, разработчик отдан на милость пользователей, которые могут решить ен устанавливать обновление в течении какого-либо времени.

Все описанное выше говорит об одном, старые и новые версии кода, как равно старые и новые формат, потенциально могут существовать вместе в один и тот же момент времени. Чтобы система могла работать без проблем, необходимо поддерживать совместимость в обоих направлениях

1. Обратная совместимость - более новый код способен читать данные, записывать более старым
2. Прямая совместимость - более старый код способен читать данные, записанные более новым.

Добиться обратной совместимости не сложно. Будучи создателем более нового кода, вы знаете формат данных, записанных более старым и можете явным образом обрабатывать их. Добиться прямой совместимости часть сложнее, поскольку более старый код должен игнорировать добавляемые более новой версией данные.

В настоящее время мы рассмотрим несколько форматов кодирования данных, включая json, XML, Protocol Buffers, Thrift, Avro. В частности, изучим, что они делают при изменении схемы, а так же их поддержку систем, в которых вынуждены сосуществовать старые и новые данные и код. Затем обсудим, как эти форматы используются для данных и обмена сообщениями, в веб-сервисах, при передаче состояния представления(REST), удаленный вызов процедур (RPC), и системах передачи сообщений, таких как акторы и очереди сообщений.

